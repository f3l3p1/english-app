<!-- src/app/lesson-dashboard/lesson-dashboard.component.html -->

<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/tabs/tab1"></ion-back-button>
    </ion-buttons>
    <ion-title>My Lessons</ion-title>
    <ion-buttons slot="end">
      <ion-button (click)="openOnlineSession()">
        <ion-icon slot="icon-only" name="settings-outline"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content class="dashboard-container">
  <!-- Audio Panel -->
  <ion-card>
    <ion-card-header>
      <ion-icon name="volume-high-outline"></ion-icon>
      <ion-title>Audio</ion-title>
    </ion-card-header>
    <ion-card-content>
      <input #audioInput type="file" (change)="onFileSelected($event, 'audios')" style="display: none;">
      <button *ngIf="isTeacher" ion-button fill="clear" (click)="audioInput.click()">Upload Audio</button>
      <button ion-button fill="clear" (click)="viewFiles('audios')">View Audio</button>
    </ion-card-content>
  </ion-card>

  <!-- Video Panel -->
  <ion-card>
    <ion-card-header>
      <ion-icon name="videocam-outline"></ion-icon>
      <ion-title>Video</ion-title>
    </ion-card-header>
    <ion-card-content>
      <input #videoInput type="file" (change)="onFileSelected($event, 'videos')" style="display: none;">
      <button *ngIf="isTeacher" ion-button fill="clear" (click)="videoInput.click()">Upload Video</button>
      <button ion-button fill="clear" (click)="viewFiles('videos')">View Video</button>
    </ion-card-content>
  </ion-card>

  <!-- Tasks Panel -->
  <ion-card>
    <ion-card-header>
      <ion-icon name="clipboard-outline"></ion-icon>
      <ion-title>Tasks</ion-title>
    </ion-card-header>
    <ion-card-content>
      <input #taskInput type="file" (change)="onFileSelected($event, 'tasks')" style="display: none;">
      <button *ngIf="isTeacher" ion-button fill="clear" (click)="taskInput.click()">Upload Task</button>
      <button ion-button fill="clear" (click)="viewFiles('tasks')">View Tasks</button>
    </ion-card-content>
  </ion-card>

  <!-- Materials Panel -->
  <ion-card>
    <ion-card-header>
      <ion-icon name="book-outline"></ion-icon>
      <ion-title>Materials</ion-title>
    </ion-card-header>
    <ion-card-content>
      <input #materialInput type="file" (change)="onFileSelected($event, 'materials')" style="display: none;">
      <button *ngIf="isTeacher" ion-button fill="clear" (click)="materialInput.click()">Upload Material</button>
      <button ion-button fill="clear" (click)="viewFiles('materials')">View Materials</button>
    </ion-card-content>
  </ion-card>

  <!-- Online Session Button -->
  <ion-button expand="block" color="tertiary" (click)="openOnlineSession()" class="session-button">
    <ion-icon slot="start" name="videocam-outline"></ion-icon>
    Online Session
  </ion-button>
</ion-content>
